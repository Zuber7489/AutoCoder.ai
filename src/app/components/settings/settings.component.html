<div class="settings-container">
  <!-- Header -->
  <div class="settings-header">
    <button class="back-btn" (click)="goBack()" title="Back to Dashboard">
      <i class="fas fa-arrow-left"></i>
    </button>
    <h1>
      <i class="fas fa-cog"></i>
      Settings
    </h1>
  </div>

  <!-- Settings Content -->
  <div class="settings-content">
    <!-- User Profile Section -->
    <div class="settings-section">
      <h2>
        <i class="fas fa-user"></i>
        Profile Information
      </h2>
      
      <div class="profile-card" *ngIf="userInfo">
        <div class="profile-avatar">
          <img 
            *ngIf="userInfo.photoURL" 
            [src]="userInfo.photoURL" 
            [alt]="userInfo.displayName || 'User'"
            class="avatar-image"
            onerror="this.style.display='none'"
          />
          <div 
            *ngIf="!userInfo.photoURL" 
            class="avatar-fallback">
            <i class="fas fa-user"></i>
          </div>
        </div>
        
        <div class="profile-details">
          <div class="profile-item">
            <label>Display Name</label>
            <div class="profile-value">{{ userInfo.displayName || 'Not set' }}</div>
          </div>
          
          <div class="profile-item">
            <label>Email Address</label>
            <div class="profile-value">{{ userInfo.email || 'Not available' }}</div>
          </div>
          
          <div class="profile-item">
            <label>User ID</label>
            <div class="profile-value user-id">{{ userInfo.uid || 'Not available' }}</div>
          </div>
        </div>
      </div>
      
      <div class="no-user-info" *ngIf="!userInfo">
        <i class="fas fa-user-slash"></i>
        <p>No user information available</p>
      </div>
    </div>

    <!-- App Settings Section -->
    <div class="settings-section">
      <h2>
        <i class="fas fa-sliders-h"></i>
        App Settings
      </h2>
      
      <div class="settings-grid">
        <div class="setting-item">
          <div class="setting-info">
            <i class="fas fa-palette"></i>
            <div>
              <h3>Theme</h3>
              <p>Currently using dark theme</p>
            </div>
          </div>
          <div class="setting-control">
            <span class="status-badge">Dark</span>
          </div>
        </div>
        
        <div class="setting-item">
          <div class="setting-info">
            <i class="fas fa-code"></i>
            <div>
              <h3>Code Highlighting</h3>
              <p>Syntax highlighting enabled</p>
            </div>
          </div>
          <div class="setting-control">
            <span class="status-badge active">Enabled</span>
          </div>
        </div>
        
        <div class="setting-item">
          <div class="setting-info">
            <i class="fas fa-save"></i>
            <div>
              <h3>Auto-save</h3>
              <p>Chat history is automatically saved</p>
            </div>
          </div>
          <div class="setting-control">
            <span class="status-badge active">On</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Data Management Section -->
    <div class="settings-section">
      <h2>
        <i class="fas fa-database"></i>
        Data Management
      </h2>
      
      <div class="data-actions">
        <button class="action-btn danger" (click)="clearData()">
          <i class="fas fa-trash-alt"></i>
          Clear All Data
        </button>
        <p class="action-description">
          This will remove all chat history, API keys, and other stored data.
        </p>
      </div>
    </div>

    <!-- Account Actions Section -->
    <div class="settings-section">
      <h2>
        <i class="fas fa-user-cog"></i>
        Account
      </h2>
      
      <div class="account-actions">
        <button 
          class="logout-btn" 
          (click)="logout()" 
          [disabled]="isLoading">
          <i *ngIf="!isLoading" class="fas fa-sign-out-alt"></i>
          <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i>
          {{ isLoading ? 'Logging out...' : 'Logout' }}
        </button>
        <p class="logout-description">
          Sign out from your account and return to login page.
        </p>
      </div>
    </div>
  </div>
</div>
